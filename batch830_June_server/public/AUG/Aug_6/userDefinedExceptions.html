<!DOCTYPE html>
<html>
	<head>
		<title>
			Demonstrating user defined exceptions.
		</title>
		<style type="text/css">
			li {
				list-style: none;
				border: 1px solid;
				background: #ccc;
				padding: 5px;
				margin: 5px;
			}
			ul {
				width: 400px;
				margin: 10px auto;

			}
			.errmsg {
				margin: 2px;
				color: red;
				font-size: 15px;
			}
		</style>
	</head>
	<body>
		<ul>
			<li>
				Enter user name: <input type="text" id="uname">
				<div class="errmsg" id="name_err"></div>
			</li>
			<li>
				Age: <input type="text" id="uage">
				<div class="errmsg" id="age_err"></div>
			</li>
			<li>
				Gender:
				<input type="radio" name="gender" checked="true" value="male"> M
				<input type="radio" name="gender" value='female'> F
			</li>
			<li>
				<input type="button" value="Register" onclick="registerDetails()">
			</li>

		</ul>

		<script type="text/javascript">

			/*
				if (data.name == '') {
						document.querySelector("#name_err").innerHTML = 'Name is mandry field';
					}
					data.age = document.querySelector("#uage").value;
					data.age = parseInt(data.age);
					if (data.age < 21) {
						document.querySelector("#age_err").innerHTML = 'Invalid age';
					}

			*/
			function registerDetails() {
				var data = {};
				data.name = document.querySelector("#uname").value;
				try {
					if (data.name =='') {
						throw 'name_invalid'
					}
					data.age = document.querySelector("#uage").value;
					data.age = parseInt(data.age);
					if (data.age < 21) {
						throw 'age_invalid'
					}
				} catch (err) {
					switch (err) {
						case 'name_invalid':
							document.querySelector("#name_err").innerHTML = 'Name is mandry field';
							break;
						case 'age_invalid':
							document.querySelector("#age_err").innerHTML = 'Invalid age';
							break;
					}
				}
				data.gender = document.querySelector("input[name=gender]:checked").value;
				console.log(data);

			}
		</script>
	</body>
</html>